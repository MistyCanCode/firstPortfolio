{"ast":null,"code":"/*! fancy-webgl-sparkles 1.0.5 | (c) 2021 Eli Menendez | Apache License */\nimport * as PIXI from \"./pixi\";\n\nconst FancyWebGLSparkles = (() => {\n  class FancyWebGLSparkles {\n    constructor(element, inSettings = {}) {\n      if (!(element instanceof Node)) throw `Can't initialize FancyWebGLSparkles because ${element} is not a Node.`;\n      this.settings = inSettings;\n      this.element = element;\n      this.mouseEventElement = null;\n      this.pixi = null; //This is the spritesheet image as base64, feel free to change the spritesheet with your own sprites.\n      //Tip: if you wish to generate your own textures use shoebox or texture packer to package the assets, remember to put pixijs as ouput format and inline your base64 spritesheet and json data below.\n      //Frames 0 to 6 are used for the animated sparkles, frames 7, 9 and 10 are used for bokeh and frame 9 is used for the stars\n\n      this.sprites = \"data:image/png;base64,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\";\n      this.spriteSheetData = {\n        \"frames\": {\n          \"s1.png\": {\n            \"frame\": {\n              \"x\": 98,\n              \"y\": 112,\n              \"w\": 37,\n              \"h\": 35\n            },\n            \"spriteSourceSize\": {\n              \"x\": 12,\n              \"y\": 14,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s10.png\": {\n            \"frame\": {\n              \"x\": 0,\n              \"y\": 112,\n              \"w\": 48,\n              \"h\": 49\n            },\n            \"spriteSourceSize\": {\n              \"x\": 8,\n              \"y\": 8,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s2.png\": {\n            \"frame\": {\n              \"x\": 49,\n              \"y\": 112,\n              \"w\": 48,\n              \"h\": 41\n            },\n            \"spriteSourceSize\": {\n              \"x\": 8,\n              \"y\": 12,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s3.png\": {\n            \"frame\": {\n              \"x\": 109,\n              \"y\": 56,\n              \"w\": 52,\n              \"h\": 55\n            },\n            \"spriteSourceSize\": {\n              \"x\": 5,\n              \"y\": 5,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s4.png\": {\n            \"frame\": {\n              \"x\": 0,\n              \"y\": 0,\n              \"w\": 56,\n              \"h\": 55\n            },\n            \"spriteSourceSize\": {\n              \"x\": 4,\n              \"y\": 5,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s5.png\": {\n            \"frame\": {\n              \"x\": 55,\n              \"y\": 56,\n              \"w\": 53,\n              \"h\": 55\n            },\n            \"spriteSourceSize\": {\n              \"x\": 5,\n              \"y\": 5,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s6.png\": {\n            \"frame\": {\n              \"x\": 111,\n              \"y\": 0,\n              \"w\": 37,\n              \"h\": 35\n            },\n            \"spriteSourceSize\": {\n              \"x\": 11,\n              \"y\": 11,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s7.png\": {\n            \"frame\": {\n              \"x\": 136,\n              \"y\": 112,\n              \"w\": 26,\n              \"h\": 25\n            },\n            \"spriteSourceSize\": {\n              \"x\": 18,\n              \"y\": 19,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s8.png\": {\n            \"frame\": {\n              \"x\": 0,\n              \"y\": 56,\n              \"w\": 54,\n              \"h\": 54\n            },\n            \"spriteSourceSize\": {\n              \"x\": 5,\n              \"y\": 5,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          },\n          \"s9.png\": {\n            \"frame\": {\n              \"x\": 57,\n              \"y\": 0,\n              \"w\": 53,\n              \"h\": 55\n            },\n            \"spriteSourceSize\": {\n              \"x\": 5,\n              \"y\": 5,\n              \"w\": 64,\n              \"h\": 64\n            },\n            \"sourceSize\": {\n              \"w\": 64,\n              \"h\": 64\n            }\n          }\n        },\n        \"meta\": {\n          \"image\": this.sprites,\n          \"size\": {\n            \"w\": 163,\n            \"h\": 162\n          },\n          \"scale\": \"1\"\n        }\n      };\n\n      for (let property in this.getDefaultSettings()) {\n        let attrSetting = this.element.getAttribute(\"sparkle-\" + property); //If this property exists in the user settings, set the object property to that setting, otherwise use the defaults\n\n        if (property in inSettings) this.settings[property] = inSettings[property];else if (attrSetting !== \"\" && attrSetting != null) {\n          try {\n            this.settings[property] = JSON.parse(attrSetting);\n          } catch (e) {\n            this.settings[property] = attrSetting;\n          }\n        } else this.settings[property] = this.getDefaultSettings()[property];\n      }\n\n      this.addEventListeners();\n    }\n\n    getDefaultSettings() {\n      return {\n        //colors to use for the sparkles\n        sparkleColor: [\"#ffffff\", \"#ffff00\", \"#e15ecb\", \"#32e187\"],\n        //Rendering controls allow you to enable or disable bokeh, sparkles or stars\n        renderBokeh: false,\n        renderSparkles: true,\n        renderStars: true,\n        //sparkle particle count\n        sparkleScale: 50,\n        //simulation speed\n        speed: 2,\n        //minimum particle size\n        minSize: .05,\n        //maximum particle size\n        maxSize: .16,\n        //direction of sparkle particles, you can use up, down or both\n        direction: \"both\",\n        //If set to true allows particles to render outside from the element's bounding box\n        renderOutside: true,\n        //Array of colors for the bokeh effect\n        bokehColor: [\"#ffffff\", \"#ffff00\"],\n        //This scale is proportional to the number of sparkles on the screen to avoid pollution\n        bokehScale: 1.5,\n        //Size multiplier to scale the bokeh, IE a scale of two means double the size\n        bokehSize: .7,\n        //This scale is proportional to the number of sparkles on the screen\n        starScale: 2,\n        //Size multiplier to scale the star particles, IE a scale of two means double the original size\n        starSize: 1,\n        //Scale of the boundary if renderOutside is set to true, IE a value of 2 would double the size of the area that is being rendered outside of the parent element boundaries.\n        boundaryScale: 1,\n        //If this setting is true the particles will start rendering as soon as the DOM is generated.\n        persistent: false\n      };\n    } //Static Constructor\n\n\n    static init(elements, settings) {\n      if (elements instanceof Node) elements = [elements];\n      if (elements instanceof NodeList) elements = [].slice.call(elements);\n      if (!(elements instanceof Array)) return;\n      elements.forEach(element => {\n        if (!(\"FancyWebGLSparkles\" in element)) element.FancyWebGLSparkles = new FancyWebGLSparkles(element, settings);\n      });\n    }\n\n    addEventListeners() {\n      if (!this.settings.persistent) {\n        this.element.addEventListener(\"mouseenter\", e => {\n          this.mouseEventElement = e;\n          this.start(e.target);\n        });\n        this.element.addEventListener(\"mouseleave\", () => {\n          if (this.pixi === null || this.pixi === undefined) return;\n          this.pixi.bIsPendingDestroy = true;\n        });\n        return;\n      }\n\n      this.start(this.element);\n    } //Stop the pixi instance\n\n\n    stop() {\n      this.pixi.stop();\n      this.pixi.bInstanceHasBeenInitialized = true;\n    }\n\n    start(element) {\n      this.width = this.settings.renderOutside ? this.element.getBoundingClientRect().width * 1.4 * this.settings.boundaryScale : this.element.getBoundingClientRect().width;\n      this.height = this.settings.renderOutside ? this.element.getBoundingClientRect().height * 1.4 * this.settings.boundaryScale : this.element.getBoundingClientRect().height;\n\n      if (this.pixi === undefined) {\n        this.pixi = new PIXI.Application({\n          width: this.width,\n          height: this.height,\n          transparent: true,\n          autoDensity: true,\n          clearBeforeRender: true\n        });\n      }\n\n      if (this.pixi.renderer.context.isLost) {\n        this.pixi.destroy(true, {\n          children: true,\n          texture: false,\n          baseTexture: false\n        });\n        this.pixi = new PIXI.Application({\n          width: this.width,\n          height: this.height,\n          transparent: true,\n          autoDensity: true,\n          clearBeforeRender: true\n        });\n        this.pixi.bInstanceHasBeenInitialized = undefined;\n      } //Append the pixi instance on top of the container and center with the help of css\n\n\n      const pixiNode = element.appendChild(this.pixi.view);\n      pixiNode.style.position = \"absolute\";\n      pixiNode.style.left = \"50%\";\n      pixiNode.style.top = \"50%\";\n      pixiNode.style.transform = \"translate(-50%, -50%)\"; //Add this property to later allow space for memory management once the particles are not being rendered on the screen\n\n      this.pixi.bIsPendingDestroy = false; //We want to avoid any collisions between the canvas and the DOM\n\n      pixiNode.style.pointerEvents = \"none\"; //Find the parent and check if there's a stacking context to position the canvas on top of the element and not to the top of the root document, in our case we will set static DOM elements as relative to add the stacking context\n      //https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context\n\n      const parentNode = window.getComputedStyle(element).position;\n      if (parentNode === \"static\") element.style.position = \"relative\"; //Add webgl filters\n\n      const filter = new PIXI.filters.AdvancedBloomFilter(.05, 50, 4, 4, 4, null, 1, PIXI.settings.RESOLUTION);\n      this.pixi.stage.filters = [filter];\n      this.pixi.stage.filterArea = this.pixi.screen; //Load texture assets to the vRam cache pool if the cache is empty\n\n      const spritesheetUrl = `data:application/json;base64,${btoa(JSON.stringify(this.spriteSheetData))}`;\n      if (Object.keys(PIXI.utils.TextureCache).length === 0) this.pixi.loader.add(\"spritesheet\", spritesheetUrl).load(() => this.onTexturesLoaded(false));else this.onTexturesLoaded(true);\n    } //Construct the particles with its initial properties after the pixi instance and its textures have been allocated on memory\n\n\n    onTexturesLoaded(bTexturesAlreadyOnMemory) {\n      //If we have lost the context because we have hit webgl limits then we need to create the context again\n      if (bTexturesAlreadyOnMemory && this.pixi.bInstanceHasBeenInitialized !== undefined) {\n        this.pixi.start();\n        return;\n      }\n\n      const textureStore = [];\n      const spriteStoreOne = [];\n      const spriteStoreTwo = [];\n      const spriteStoreThree = [];\n\n      for (let i = 0; i < 10; ++i) textureStore.push(PIXI.Texture.from(`s${i + 1}.png`)); //FadeIn the particles on creation for a nice smooth effect =)\n\n\n      this.pixi.stage.alpha = 0; // create our sparkle sprite using the datauri supplied in the script\n\n      const particleTypeOne = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale / 10 * this.settings.bokehScale), {\n        scale: true,\n        vertices: true,\n        position: true,\n        rotation: false,\n        uvs: true,\n        alpha: true\n      });\n      const particleTypeTwo = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale), {\n        scale: true,\n        vertices: true,\n        position: true,\n        rotation: false,\n        uvs: true,\n        alpha: true\n      });\n      const particleTypeThree = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale / 8 * this.settings.starScale), {\n        scale: true,\n        vertices: true,\n        position: true,\n        rotation: true,\n        uvs: true,\n        alpha: true\n      }); //This intermediate container is created to allow for webgl effects to be applied to the sparkle particles and get this nice glow effect.\n\n      const particleContainerOne = new PIXI.Container();\n      particleContainerOne.addChild(particleTypeTwo);\n      const theFilter = new PIXI.filters.GlowFilter(10, 1, 0, PIXI.utils.string2hex(\"#ffffff\"), .1);\n      particleContainerOne.filters = [theFilter];\n      particleContainerOne.filterArea = this.pixi.renderer.screen; //Create Bokeh Particles\n\n      for (let i = 0; i < Math.round(this.settings.sparkleScale * 0.10 * this.settings.bokehScale); ++i) {\n        const bokeh = Math.round(Math.random()) ? new PIXI.Sprite(textureStore[6]) : new PIXI.Sprite(textureStore[9]);\n        bokeh.scale.set(Math.random() * (1.2 * this.settings.bokehSize) + 0.4 * this.settings.bokehSize);\n        bokeh.blendMode = PIXI.BLEND_MODES.OVERLAY;\n        bokeh.tint = this.settings.bokehColor === \"rainbow\" ? Math.random() * 0xE8D4CD : PIXI.utils.string2hex(this.settings.bokehColor[Math.floor(Math.random() * this.settings.bokehColor.length)]);\n        bokeh.x = Math.random() * this.pixi.screen.width;\n        bokeh.y = Math.random() * this.pixi.screen.height;\n        bokeh.anchor.set(0.5, 0.5); //Initial Fade state, fadeIn = 1, fadeOut = 0\n\n        bokeh.fade = Math.round(Math.random());\n        bokeh.alpha = this.clamp(Math.random(), 0.1, 0.7);\n        spriteStoreOne.push(bokeh);\n        particleTypeOne.addChild(bokeh);\n      } //Create Sparkle Particles\n\n\n      for (let i = 0; i < Math.round(this.settings.sparkleScale); ++i) {\n        const sparkle = PIXI.AnimatedSprite.fromFrames([\"s1.png\", \"s2.png\", \"s3.png\", \"s4.png\", \"s5.png\", \"s6.png\", \"s7.png\"]);\n        sparkle.tint = this.settings.sparkleColor === \"rainbow\" ? Math.random() * 0xE8D4CD : PIXI.utils.string2hex(this.settings.sparkleColor[Math.floor(Math.random() * this.settings.sparkleColor.length)]);\n        sparkle.x = Math.random() * this.pixi.screen.width;\n        sparkle.y = Math.random() * this.pixi.screen.height;\n        sparkle.anchor.set(0.5, 0.5);\n        sparkle.blendMode = PIXI.BLEND_MODES.HARD_LIGHT;\n        sparkle.alpha = this.clamp(Math.random(), 0.3, 1);\n        sparkle.fade = Math.round(Math.random());\n        sparkle.rotation = Math.random() * Math.PI;\n        sparkle.scale.set(this.clamp(Math.random() * this.settings.maxSize, this.settings.minSize, this.settings.maxSize));\n        sparkle.gotoAndPlay(Math.floor(Math.random() * 6));\n        sparkle.animationSpeed = .18;\n        const xDirection = Math.floor(Math.random() * 20) - 10;\n        const yDirection = this.settings.direction === \"up\" ? Math.floor(Math.random() * 5) - 5.5 : this.settings.direction === \"down\" ? Math.floor(Math.random() * 5) + .5 : Math.floor(Math.random() * 10) - 5;\n        sparkle.direction = {\n          //Add some randomness to the direction of movement on construction\n          x: xDirection,\n          y: yDirection\n        };\n        spriteStoreTwo.push(sparkle);\n        particleTypeTwo.addChild(sparkle);\n      } //Create Star Particles\n\n\n      for (let i = 0; i < Math.round(this.settings.sparkleScale * .25 * this.settings.starScale); ++i) {\n        const star = new PIXI.Sprite(textureStore[7]);\n        star.tint = PIXI.utils.string2hex(\"#ffffff\");\n        star.x = Math.random() * this.pixi.screen.width;\n        star.y = Math.random() * this.pixi.screen.height;\n        star.anchor.set(0.5, 0.5);\n        star.alpha = this.clamp(Math.random(), 0.3, 1);\n        star.fade = Math.round(Math.random());\n        star.rotation = Math.random() * Math.PI;\n        star.zoom = Math.floor(Math.random());\n        star.scale.set(this.clamp(Math.random() * this.settings.maxSize * 1.5, this.settings.minSize * 1.5, this.settings.maxSize * 1.5));\n        const xDirection = Math.floor(Math.random() * 20) - 10;\n        const yDirection = this.settings.direction === \"up\" ? Math.floor(Math.random() * 5) - 5.5 : this.settings.direction === \"down\" ? Math.floor(Math.random() * 5) + .5 : Math.floor(Math.random() * 10) - 5;\n        star.direction = {\n          //Add some randomness to the direction of movement on particle construction\n          x: xDirection,\n          y: yDirection\n        };\n        spriteStoreThree.push(star);\n        particleTypeThree.addChild(star);\n      } //Render particles based on user choice\n\n\n      if (this.settings.renderBokeh) this.pixi.stage.addChild(particleTypeOne);\n      if (this.settings.renderSparkles) this.pixi.stage.addChild(particleContainerOne);\n      if (this.settings.renderStars) this.pixi.stage.addChild(particleTypeThree); //Initialize the update function\n\n      this.pixi.ticker.add(() => {\n        this.fadeInCanvas();\n        this.fadeOutCanvas();\n        if (this.pixi != null && !this.pixi.bIsPendingDestroy) this.update(spriteStoreOne, spriteStoreTwo, spriteStoreThree);\n      });\n    } //simple utility function used to matematically clamp diferent parameters\n\n\n    clamp(value, min, max) {\n      return value > max ? max : value < min ? min : value;\n    } //FadeIn the content when the mouse enters the view\n\n\n    fadeInCanvas() {\n      if (this.pixi.stage.alpha >= 1 || this.pixi.bIsPendingDestroy) return;\n      this.pixi.stage.alpha = this.clamp(this.pixi.stage.alpha, 0, 1);\n      this.pixi.stage.alpha += 0.05 * this.pixi.ticker.deltaTime;\n    } //FadeOut the content when the mouse gets out of the view before destroying the instance\n\n\n    fadeOutCanvas() {\n      if (this.pixi.stage.alpha === 0 && !this.pixi.bIsPendingDestroy) return;\n\n      if (this.pixi.stage.alpha >= 0 && this.pixi.bIsPendingDestroy) {\n        this.pixi.stage.alpha = this.clamp(this.pixi.stage.alpha, 0, 1);\n        this.pixi.stage.alpha -= 0.08 * this.pixi.ticker.deltaTime;\n      }\n\n      if (this.pixi.stage.alpha <= 0 && this.pixi.bIsPendingDestroy) this.stop(this.mouseEventElement);\n    } //Pulse the scale of the particle\n\n\n    pulseParticle(particle, maxScale = 1.2, minScale = 0) {\n      const theScale = particle.scale.x; //Similar to fading\n      // 1 = Zoom In 0 = Zoom Out\n\n      particle.zoom = theScale >= maxScale && particle.zoom ? 0 : theScale <= minScale && !particle.zoom ? 1 : particle.zoom; //zoom in\n\n      if (particle.zoom) particle.scale.set(particle.scale.x + .003 * this.pixi.ticker.deltaTime); //zoom out\n\n      if (!particle.zoom) particle.scale.set(particle.scale.x - .003 * this.pixi.ticker.deltaTime); //Clamp values to not allow negatives\n\n      particle.scale.x = this.clamp(particle.scale.x, minScale, maxScale);\n      particle.scale.y = this.clamp(particle.scale.y, minScale, maxScale);\n    } //Fade In and out the particle, randomizing its position after it has been faded out\n\n\n    fadeParticle(particle, maxOpacity = 0.6, newMinimumScale = .4, newMaximumScale = 1.2) {\n      //Set particle fade state 1 = Fade In 0 = Fade Out\n      particle.fade = particle.alpha >= maxOpacity && particle.fade ? 0 : particle.alpha <= 0 && !particle.fade ? 1 : particle.fade; //Fade in\n\n      if (particle.fade) particle.alpha += .003 * this.pixi.ticker.deltaTime; //Fade out\n\n      if (!particle.fade) particle.alpha -= .003 * this.pixi.ticker.deltaTime; //Clamp values to not allow negatives\n\n      particle.alpha = this.clamp(particle.alpha, 0, maxOpacity); //Check if the particle has faded out, change its position\n\n      if (!particle.fade && particle.alpha === 0) {\n        particle.x = Math.random() * this.pixi.screen.width;\n        particle.y = Math.random() * this.pixi.screen.height;\n        particle.scale.set(Math.random() * (newMaximumScale - newMinimumScale) + newMinimumScale);\n      }\n    } // Position particles at the other end of the canvas whenever they hit the bounds of the canvas itself\n    // We also avoid clipping by setting a boundary based on the canvas size\n\n\n    throwParticlesBackToTheCanvas(particle) {\n      const boundingBox = {\n        x: this.element.getBoundingClientRect().width,\n        y: this.element.getBoundingClientRect().height\n      }; //Prevent clipping by providing an invisible boundary area for particles\n\n      const bounds = {\n        xMin: () => this.settings.renderOutside ? boundingBox.x * 0.1 : 0,\n        xMax: () => this.settings.renderOutside ? this.width - boundingBox.x * 0.1 : this.width,\n        yMin: () => this.settings.renderOutside ? boundingBox.y * 0.1 : 0,\n        yMax: () => this.settings.renderOutside ? this.height - boundingBox.y * 0.1 : this.height\n      };\n\n      if (particle.x > bounds.xMax() || particle.x < bounds.xMin() || particle.y > bounds.yMax() || particle.y < bounds.yMin()) {\n        //Resize Particles if they are out of bounds\n        particle.scale.set(this.clamp(Math.random() * this.settings.maxSize, this.settings.minSize, this.settings.maxSize));\n      }\n\n      if (particle.x > bounds.xMax()) particle.x = this.settings.renderOutside ? bounds.xMin : 0;\n      if (particle.x < bounds.xMin()) particle.x = this.settings.renderOutside ? bounds.xMax : this.width; // if the particles have hit the vertical bounds, teleport them to a new X position with the y position inverted\n\n      if (particle.y > bounds.yMax()) {\n        particle.y = this.settings.renderOutside ? bounds.yMin : 0;\n        particle.x = Math.floor(Math.random() * bounds.xMax);\n      }\n\n      if (particle.y < bounds.yMin()) {\n        particle.y = this.settings.renderOutside ? bounds.yMax : this.height;\n        particle.x = Math.floor(Math.random() * bounds.xMax);\n      }\n    } //Update loop on delta\n\n\n    update(bokehs, sparkles, stars) {\n      sparkles.forEach(sparkle => {\n        this.throwParticlesBackToTheCanvas(sparkle);\n        this.fadeParticle(sparkle, 1, this.settings.minSize, this.settings.maxSize); // Randomly move stars along the direction, we weight x heavier than y,\n        // allowing space for random decelleration, giving an ethereal floating feeling\n\n        const speed = {\n          x: () => {\n            const randBool = Math.random() > Math.random() * 2;\n            return randBool ? this.settings.speed / 20 : 0;\n          },\n          y: () => {\n            const randBool = Math.random() > Math.random() * 5;\n            return randBool ? this.settings.speed / 10 : this.settings.speed / 15;\n          }\n        }; //Perform the position update\n\n        sparkle.x += speed.x() * sparkle.direction.x * this.pixi.ticker.deltaTime;\n        sparkle.y += speed.y() * sparkle.direction.y * this.pixi.ticker.deltaTime;\n      });\n      bokehs.forEach(bokeh => {\n        this.throwParticlesBackToTheCanvas(bokeh);\n        this.fadeParticle(bokeh, 0.6, 0.4 * this.settings.bokehSize, 1.2 * this.settings.bokehSize); //Move the bokeh particle\n        //The scale is going to be pumped on both the x and y axis at the same time, therefore we don't care of discrepancies between both axis to measure the current scale\n\n        let currScale = bokeh.scale.x;\n        currScale += 0.001 * this.pixi.ticker.deltaTime;\n        bokeh.y -= Math.random() * 0.2 * this.pixi.ticker.deltaTime;\n        bokeh.scale.set(currScale);\n      });\n      stars.forEach(star => {\n        this.throwParticlesBackToTheCanvas(star);\n        this.fadeParticle(star, 1, this.settings.minSize, this.settings.maxSize); //Perform the position update\n\n        star.x += this.settings.speed / 50 * star.direction.x * this.pixi.ticker.deltaTime;\n        star.y += this.settings.speed / 30 * star.direction.y * this.pixi.ticker.deltaTime;\n        star.rotation += star.direction.y * this.pixi.ticker.deltaTime * Math.PI * .01;\n        this.pulseParticle(star, this.settings.maxSize * 1.5, 0.1);\n      });\n    }\n\n  }\n\n  if (typeof document !== \"undefined\") {\n    /* expose the class to window and autoload */\n    window.FancyWebGLSparkles = FancyWebGLSparkles;\n    FancyWebGLSparkles.init(document.querySelectorAll(\"[sparkle]\"));\n  }\n\n  return FancyWebGLSparkles;\n})();\n\nexport default {\n  FancyWebGLSparkles\n};","map":{"version":3,"sources":["C:/Users/misty/OneDrive/Documents/FastTrack/misty/misty/node_modules/fancy-webgl-sparkles/src/fancy-webgl-sparkles.js"],"names":["PIXI","FancyWebGLSparkles","constructor","element","inSettings","Node","settings","mouseEventElement","pixi","sprites","spriteSheetData","property","getDefaultSettings","attrSetting","getAttribute","JSON","parse","e","addEventListeners","sparkleColor","renderBokeh","renderSparkles","renderStars","sparkleScale","speed","minSize","maxSize","direction","renderOutside","bokehColor","bokehScale","bokehSize","starScale","starSize","boundaryScale","persistent","init","elements","NodeList","slice","call","Array","forEach","addEventListener","start","target","undefined","bIsPendingDestroy","stop","bInstanceHasBeenInitialized","width","getBoundingClientRect","height","Application","transparent","autoDensity","clearBeforeRender","renderer","context","isLost","destroy","children","texture","baseTexture","pixiNode","appendChild","view","style","position","left","top","transform","pointerEvents","parentNode","window","getComputedStyle","filter","filters","AdvancedBloomFilter","RESOLUTION","stage","filterArea","screen","spritesheetUrl","btoa","stringify","Object","keys","utils","TextureCache","length","loader","add","load","onTexturesLoaded","bTexturesAlreadyOnMemory","textureStore","spriteStoreOne","spriteStoreTwo","spriteStoreThree","i","push","Texture","from","alpha","particleTypeOne","ParticleContainer","Math","round","scale","vertices","rotation","uvs","particleTypeTwo","particleTypeThree","particleContainerOne","Container","addChild","theFilter","GlowFilter","string2hex","bokeh","random","Sprite","set","blendMode","BLEND_MODES","OVERLAY","tint","floor","x","y","anchor","fade","clamp","sparkle","AnimatedSprite","fromFrames","HARD_LIGHT","PI","gotoAndPlay","animationSpeed","xDirection","yDirection","star","zoom","ticker","fadeInCanvas","fadeOutCanvas","update","value","min","max","deltaTime","pulseParticle","particle","maxScale","minScale","theScale","fadeParticle","maxOpacity","newMinimumScale","newMaximumScale","throwParticlesBackToTheCanvas","boundingBox","bounds","xMin","xMax","yMin","yMax","bokehs","sparkles","stars","randBool","currScale","document","querySelectorAll"],"mappings":"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","sourcesContent":["/*! fancy-webgl-sparkles 1.0.5 | (c) 2021 Eli Menendez | Apache License */\r\nimport * as PIXI from \"./pixi\";\r\n\r\nconst FancyWebGLSparkles = (() =>\r\n{\r\n\tclass FancyWebGLSparkles\r\n\t{\r\n\t\tconstructor(element, inSettings = {})\r\n\t\t{\r\n\t\t\tif (!(element instanceof Node)) throw `Can't initialize FancyWebGLSparkles because ${element} is not a Node.`;\r\n\t\t\tthis.settings = inSettings;\r\n\t\t\tthis.element = element;\r\n\t\t\tthis.mouseEventElement = null;\r\n\t\t\tthis.pixi = null;\r\n\t\t\t//This is the spritesheet image as base64, feel free to change the spritesheet with your own sprites.\r\n\t\t\t//Tip: if you wish to generate your own textures use shoebox or texture packer to package the assets, remember to put pixijs as ouput format and inline your base64 spritesheet and json data below.\r\n\t\t\t//Frames 0 to 6 are used for the animated sparkles, frames 7, 9 and 10 are used for bokeh and frame 9 is used for the stars\r\n\t\t\tthis.sprites = \"data:image/png;base64,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\";\r\n\r\n\t\t\tthis.spriteSheetData =\r\n\t\t\t{\r\n\t\t\t\t\"frames\":\r\n\t\t\t\t{\r\n\t\t\t\t\t\"s1.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":98, \"y\":112, \"w\":37, \"h\":35},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":12,\"y\":14,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s10.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":0, \"y\":112, \"w\":48, \"h\":49},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":8,\"y\":8,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s2.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":49, \"y\":112, \"w\":48, \"h\":41},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":8,\"y\":12,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s3.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":109, \"y\":56, \"w\":52, \"h\":55},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":5,\"y\":5,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s4.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":0, \"y\":0, \"w\":56, \"h\":55},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":4,\"y\":5,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s5.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":55, \"y\":56, \"w\":53, \"h\":55},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":5,\"y\":5,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s6.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":111, \"y\":0, \"w\":37, \"h\":35},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":11,\"y\":11,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s7.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":136, \"y\":112, \"w\":26, \"h\":25},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":18,\"y\":19,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s8.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":0, \"y\":56, \"w\":54, \"h\":54},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":5,\"y\":5,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"s9.png\":\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"frame\": {\"x\":57, \"y\":0, \"w\":53, \"h\":55},\r\n\t\t\t\t\t\t\"spriteSourceSize\": {\"x\":5,\"y\":5,\"w\":64,\"h\":64},\r\n\t\t\t\t\t\t\"sourceSize\": {\"w\":64,\"h\":64}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\"meta\":\r\n\t\t\t\t{\r\n\t\t\t\t\t\"image\": this.sprites,\r\n\t\t\t\t\t\"size\": {\"w\": 163, \"h\": 162},\r\n\t\t\t\t\t\"scale\": \"1\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\r\n\t\t\tfor (let property in this.getDefaultSettings())\r\n\t\t\t{\r\n\t\t\t\tlet attrSetting = this.element.getAttribute(\"sparkle-\" + property);\r\n\r\n\t\t\t\t//If this property exists in the user settings, set the object property to that setting, otherwise use the defaults\r\n\t\t\t\tif (property in inSettings) this.settings[property] = inSettings[property];\r\n\r\n\t\t\t\telse if (attrSetting !== \"\" && attrSetting != null)\r\n\t\t\t\t{\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.settings[property] = JSON.parse(attrSetting);\r\n\t\t\t\t\t} catch (e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.settings[property] = attrSetting;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse this.settings[property] = this.getDefaultSettings()[property];\r\n\t\t\t}\r\n\t\t\tthis.addEventListeners();\r\n\t\t}\r\n\r\n\t\tgetDefaultSettings()\r\n\t\t{\r\n\t\t\treturn{\r\n\t\t\t\t//colors to use for the sparkles\r\n\t\t\t\tsparkleColor: [\"#ffffff\",\"#ffff00\", \"#e15ecb\", \"#32e187\"],\r\n\t\t\t\t//Rendering controls allow you to enable or disable bokeh, sparkles or stars\r\n\t\t\t\trenderBokeh: false,\r\n\t\t\t\trenderSparkles: true,\r\n\t\t\t\trenderStars: true,\r\n\t\t\t\t//sparkle particle count\r\n\t\t\t\tsparkleScale: 50,\r\n\t\t\t\t//simulation speed\r\n\t\t\t\tspeed: 2,\r\n\t\t\t\t//minimum particle size\r\n\t\t\t\tminSize: .05,\r\n\t\t\t\t//maximum particle size\r\n\t\t\t\tmaxSize: .16,\r\n\t\t\t\t//direction of sparkle particles, you can use up, down or both\r\n\t\t\t\tdirection: \"both\",\r\n\t\t\t\t//If set to true allows particles to render outside from the element's bounding box\r\n\t\t\t\trenderOutside: true,\r\n\t\t\t\t//Array of colors for the bokeh effect\r\n\t\t\t\tbokehColor: [\"#ffffff\",\"#ffff00\"],\r\n\t\t\t\t//This scale is proportional to the number of sparkles on the screen to avoid pollution\r\n\t\t\t\tbokehScale: 1.5,\r\n\t\t\t\t//Size multiplier to scale the bokeh, IE a scale of two means double the size\r\n\t\t\t\tbokehSize: .7,\r\n\t\t\t\t//This scale is proportional to the number of sparkles on the screen\r\n\t\t\t\tstarScale: 2,\r\n\t\t\t\t//Size multiplier to scale the star particles, IE a scale of two means double the original size\r\n\t\t\t\tstarSize: 1,\r\n\t\t\t\t//Scale of the boundary if renderOutside is set to true, IE a value of 2 would double the size of the area that is being rendered outside of the parent element boundaries.\r\n\t\t\t\tboundaryScale: 1,\r\n\t\t\t\t//If this setting is true the particles will start rendering as soon as the DOM is generated.\r\n\t\t\t\tpersistent: false\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t//Static Constructor\r\n\t\tstatic init(elements, settings)\r\n\t\t{\r\n\t\t\tif (elements instanceof Node) elements = [elements];\r\n\t\t\tif (elements instanceof NodeList) elements = [].slice.call(elements);\r\n\t\t\tif (!(elements instanceof Array)) return;\r\n\r\n\t\t\telements.forEach(element =>\r\n\t\t\t{\r\n\t\t\t\tif (!(\"FancyWebGLSparkles\" in element)) element.FancyWebGLSparkles = new FancyWebGLSparkles(element, settings);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\taddEventListeners()\r\n\t\t{\r\n\t\t\tif(!this.settings.persistent)\r\n\t\t\t{\r\n\t\t\t\tthis.element.addEventListener(\"mouseenter\", (e) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.mouseEventElement = e;\r\n\t\t\t\t\tthis.start(e.target);\r\n\t\t\t\t});\r\n\t\t\t\tthis.element.addEventListener(\"mouseleave\", ()=>\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.pixi === null || this.pixi === undefined) return;\r\n\t\t\t\t\tthis.pixi.bIsPendingDestroy = true;\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.start(this.element);\r\n\t\t}\r\n\r\n\t\t//Stop the pixi instance\r\n\t\tstop()\r\n\t\t{\r\n\t\t\tthis.pixi.stop();\r\n\t\t\tthis.pixi.bInstanceHasBeenInitialized = true;\r\n\t\t}\r\n\r\n\t\tstart(element)\r\n\t\t{\r\n\t\t\tthis.width = this.settings.renderOutside? (this.element.getBoundingClientRect().width * 1.4) * this.settings.boundaryScale: this.element.getBoundingClientRect().width;\r\n\t\t\tthis.height = this.settings.renderOutside? (this.element.getBoundingClientRect().height * 1.4) * this.settings.boundaryScale : this.element.getBoundingClientRect().height;\r\n\r\n\t\t\tif(this.pixi === undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.pixi = new PIXI.Application({\r\n\t\t\t\t\twidth: this.width, height: this.height, transparent: true, autoDensity: true, clearBeforeRender: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif(this.pixi.renderer.context.isLost)\r\n\t\t\t{\r\n\t\t\t\tthis.pixi.destroy(true,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tchildren: true,\r\n\t\t\t\t\t\ttexture: false,\r\n\t\t\t\t\t\tbaseTexture: false\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.pixi = new PIXI.Application({\r\n\t\t\t\t\twidth: this.width, height: this.height, transparent: true, autoDensity: true, clearBeforeRender: true\r\n\t\t\t\t});\r\n\t\t\t\tthis.pixi.bInstanceHasBeenInitialized = undefined;\r\n\t\t\t}\r\n\r\n\t\t\t//Append the pixi instance on top of the container and center with the help of css\r\n\t\t\tconst pixiNode = element.appendChild(this.pixi.view);\r\n\t\t\tpixiNode.style.position = \"absolute\";\r\n\t\t\tpixiNode.style.left = \"50%\";\r\n\t\t\tpixiNode.style.top = \"50%\";\r\n\t\t\tpixiNode.style.transform = \"translate(-50%, -50%)\";\r\n\r\n\t\t\t//Add this property to later allow space for memory management once the particles are not being rendered on the screen\r\n\t\t\tthis.pixi.bIsPendingDestroy = false;\r\n\r\n\t\t\t//We want to avoid any collisions between the canvas and the DOM\r\n\t\t\tpixiNode.style.pointerEvents = \"none\";\r\n\r\n\t\t\t//Find the parent and check if there's a stacking context to position the canvas on top of the element and not to the top of the root document, in our case we will set static DOM elements as relative to add the stacking context\r\n\t\t\t//https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context\r\n\t\t\tconst parentNode = window.getComputedStyle(element).position;\r\n\t\t\tif(parentNode === \"static\") element.style.position = \"relative\";\r\n\r\n\t\t\t//Add webgl filters\r\n\t\t\tconst filter = new PIXI.filters.AdvancedBloomFilter(.05, 50, 4, 4, 4, null, 1, PIXI.settings.RESOLUTION);\r\n\t\t\tthis.pixi.stage.filters = [filter];\r\n\t\t\tthis.pixi.stage.filterArea = this.pixi.screen;\r\n\r\n\t\t\t//Load texture assets to the vRam cache pool if the cache is empty\r\n\t\t\tconst spritesheetUrl = `data:application/json;base64,${btoa(JSON.stringify(this.spriteSheetData))}`;\r\n\t\t\tif(Object.keys(PIXI.utils.TextureCache).length === 0)\r\n\t\t\t\tthis.pixi.loader.add(\"spritesheet\", spritesheetUrl).load(() => this.onTexturesLoaded(false));\r\n\r\n\t\t\telse this.onTexturesLoaded(true);\r\n\t\t}\r\n\r\n\t\t//Construct the particles with its initial properties after the pixi instance and its textures have been allocated on memory\r\n\t\tonTexturesLoaded(bTexturesAlreadyOnMemory)\r\n\t\t{\r\n\t\t\t//If we have lost the context because we have hit webgl limits then we need to create the context again\r\n\t\t\tif (bTexturesAlreadyOnMemory && this.pixi.bInstanceHasBeenInitialized !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.pixi.start();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst textureStore = [];\r\n\t\t\tconst spriteStoreOne = [];\r\n\t\t\tconst spriteStoreTwo = [];\r\n\t\t\tconst spriteStoreThree = [];\r\n\t\t\tfor(let i = 0; i < 10; ++i) textureStore.push(PIXI.Texture.from(`s${i + 1}.png`));\r\n\t\t\t//FadeIn the particles on creation for a nice smooth effect =)\r\n\t\t\tthis.pixi.stage.alpha = 0;\r\n\r\n\t\t\t// create our sparkle sprite using the datauri supplied in the script\r\n\t\t\tconst particleTypeOne = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale / 10 * this.settings.bokehScale),{\r\n\t\t\t\tscale: true,\r\n\t\t\t\tvertices: true,\r\n\t\t\t\tposition: true,\r\n\t\t\t\trotation: false,\r\n\t\t\t\tuvs: true,\r\n\t\t\t\talpha: true\r\n\t\t\t});\r\n\r\n\t\t\tconst particleTypeTwo = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale),{\r\n\t\t\t\tscale: true,\r\n\t\t\t\tvertices: true,\r\n\t\t\t\tposition: true,\r\n\t\t\t\trotation: false,\r\n\t\t\t\tuvs: true,\r\n\t\t\t\talpha: true\r\n\t\t\t});\r\n\r\n\t\t\tconst particleTypeThree = new PIXI.ParticleContainer(Math.round(this.settings.sparkleScale / 8 * this.settings.starScale),{\r\n\t\t\t\tscale: true,\r\n\t\t\t\tvertices: true,\r\n\t\t\t\tposition: true,\r\n\t\t\t\trotation: true,\r\n\t\t\t\tuvs: true,\r\n\t\t\t\talpha: true\r\n\t\t\t});\r\n\r\n\t\t\t//This intermediate container is created to allow for webgl effects to be applied to the sparkle particles and get this nice glow effect.\r\n\t\t\tconst particleContainerOne = new PIXI.Container();\r\n\t\t\tparticleContainerOne.addChild(particleTypeTwo);\r\n\r\n\t\t\tconst theFilter = new PIXI.filters.GlowFilter(10, 1, 0, PIXI.utils.string2hex(\"#ffffff\"), .1);\r\n\t\t\tparticleContainerOne.filters = [theFilter];\r\n\t\t\tparticleContainerOne.filterArea = this.pixi.renderer.screen;\r\n\r\n\t\t\t//Create Bokeh Particles\r\n\t\t\tfor(let i = 0; i < Math.round((this.settings.sparkleScale * 0.10) * this.settings.bokehScale); ++i)\r\n\t\t\t{\r\n\t\t\t\tconst bokeh = Math.round(Math.random())? new PIXI.Sprite(textureStore[6]) : new PIXI.Sprite(textureStore[9]);\r\n\t\t\t\tbokeh.scale.set((Math.random() * (1.2 * this.settings.bokehSize)) + (0.4 * this.settings.bokehSize));\r\n\t\t\t\tbokeh.blendMode = PIXI.BLEND_MODES.OVERLAY;\r\n\t\t\t\tbokeh.tint = this.settings.bokehColor === \"rainbow\"? Math.random() * 0xE8D4CD : PIXI.utils.string2hex(this.settings.bokehColor[Math.floor(Math.random() * this.settings.bokehColor.length)]);\r\n\t\t\t\tbokeh.x = Math.random() * this.pixi.screen.width;\r\n\t\t\t\tbokeh.y = Math.random() * this.pixi.screen.height;\r\n\t\t\t\tbokeh.anchor.set(0.5, 0.5);\r\n\t\t\t\t//Initial Fade state, fadeIn = 1, fadeOut = 0\r\n\t\t\t\tbokeh.fade = Math.round(Math.random());\r\n\t\t\t\tbokeh.alpha = this.clamp(Math.random(), 0.1, 0.7);\r\n\t\t\t\tspriteStoreOne.push(bokeh);\r\n\t\t\t\tparticleTypeOne.addChild(bokeh);\r\n\t\t\t}\r\n\r\n\t\t\t//Create Sparkle Particles\r\n\t\t\tfor(let i = 0; i < Math.round(this.settings.sparkleScale); ++i)\r\n\t\t\t{\r\n\t\t\t\tconst sparkle = PIXI.AnimatedSprite.fromFrames([\"s1.png\",\"s2.png\", \"s3.png\", \"s4.png\", \"s5.png\", \"s6.png\", \"s7.png\"]);\r\n\t\t\t\tsparkle.tint = this.settings.sparkleColor === \"rainbow\"? Math.random() * 0xE8D4CD : PIXI.utils.string2hex(this.settings.sparkleColor[Math.floor(Math.random() * this.settings.sparkleColor.length)]);\r\n\t\t\t\tsparkle.x = Math.random() * this.pixi.screen.width;\r\n\t\t\t\tsparkle.y = Math.random() * this.pixi.screen.height;\r\n\t\t\t\tsparkle.anchor.set(0.5, 0.5);\r\n\t\t\t\tsparkle.blendMode = PIXI.BLEND_MODES.HARD_LIGHT;\r\n\t\t\t\tsparkle.alpha = this.clamp(Math.random(), 0.3, 1);\r\n\t\t\t\tsparkle.fade = Math.round(Math.random());\r\n\t\t\t\tsparkle.rotation = Math.random() * Math.PI;\r\n\t\t\t\tsparkle.scale.set(this.clamp(Math.random() * this.settings.maxSize, this.settings.minSize, this.settings.maxSize));\r\n\t\t\t\tsparkle.gotoAndPlay(Math.floor(Math.random() * 6));\r\n\t\t\t\tsparkle.animationSpeed = .18;\r\n\r\n\t\t\t\tconst xDirection = Math.floor(Math.random() * 20) - 10;\r\n\t\t\t\tconst yDirection = this.settings.direction === \"up\"? Math.floor(Math.random() * 5) - 5.5 : this.settings.direction === \"down\"? Math.floor(Math.random() * 5) + .5 : Math.floor(Math.random() * 10) - 5;\r\n\r\n\t\t\t\tsparkle.direction =\r\n\t\t\t\t{\r\n\t\t\t\t\t//Add some randomness to the direction of movement on construction\r\n\t\t\t\t\tx: xDirection,\r\n\t\t\t\t\ty: yDirection\r\n\t\t\t\t};\r\n\t\t\t\tspriteStoreTwo.push(sparkle);\r\n\t\t\t\tparticleTypeTwo.addChild(sparkle);\r\n\t\t\t}\r\n\r\n\t\t\t//Create Star Particles\r\n\t\t\tfor(let i = 0; i < Math.round((this.settings.sparkleScale * .25) * this.settings.starScale); ++i)\r\n\t\t\t{\r\n\t\t\t\tconst star = new PIXI.Sprite(textureStore[7]);\r\n\t\t\t\tstar.tint = PIXI.utils.string2hex(\"#ffffff\");\r\n\t\t\t\tstar.x = Math.random() * this.pixi.screen.width;\r\n\t\t\t\tstar.y = Math.random() * this.pixi.screen.height;\r\n\t\t\t\tstar.anchor.set(0.5, 0.5);\r\n\t\t\t\tstar.alpha = this.clamp(Math.random(), 0.3, 1);\r\n\t\t\t\tstar.fade = Math.round(Math.random());\r\n\t\t\t\tstar.rotation = Math.random() * Math.PI;\r\n\t\t\t\tstar.zoom = Math.floor(Math.random());\r\n\t\t\t\tstar.scale.set(this.clamp(Math.random() * this.settings.maxSize * 1.5, this.settings.minSize * 1.5, this.settings.maxSize * 1.5));\r\n\r\n\t\t\t\tconst xDirection = Math.floor(Math.random() * 20) - 10;\r\n\t\t\t\tconst yDirection = this.settings.direction === \"up\"? Math.floor(Math.random() * 5) - 5.5 : this.settings.direction === \"down\"? Math.floor(Math.random() * 5) + .5 : Math.floor(Math.random() * 10) - 5;\r\n\r\n\t\t\t\tstar.direction =\r\n\t\t\t\t{\r\n\t\t\t\t\t//Add some randomness to the direction of movement on particle construction\r\n\t\t\t\t\tx: xDirection,\r\n\t\t\t\t\ty: yDirection\r\n\t\t\t\t};\r\n\t\t\t\tspriteStoreThree.push(star);\r\n\t\t\t\tparticleTypeThree.addChild(star);\r\n\t\t\t}\r\n\r\n\t\t\t//Render particles based on user choice\r\n\t\t\tif(this.settings.renderBokeh) this.pixi.stage.addChild(particleTypeOne);\r\n\t\t\tif(this.settings.renderSparkles) this.pixi.stage.addChild(particleContainerOne);\r\n\t\t\tif(this.settings.renderStars) this.pixi.stage.addChild(particleTypeThree);\r\n\r\n\t\t\t//Initialize the update function\r\n\t\t\tthis.pixi.ticker.add(()=>\r\n\t\t\t{\r\n\t\t\t\tthis.fadeInCanvas();\r\n\t\t\t\tthis.fadeOutCanvas();\r\n\t\t\t\tif(this.pixi != null && !this.pixi.bIsPendingDestroy) this.update(spriteStoreOne, spriteStoreTwo, spriteStoreThree);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//simple utility function used to matematically clamp diferent parameters\r\n\t\tclamp(value,min,max) { return value > max ? max : value < min ? min : value; }\r\n\r\n\t\t//FadeIn the content when the mouse enters the view\r\n\t\tfadeInCanvas()\r\n\t\t{\r\n\t\t\tif (this.pixi.stage.alpha >= 1 || this.pixi.bIsPendingDestroy) return;\r\n\t\t\tthis.pixi.stage.alpha = this.clamp(this.pixi.stage.alpha, 0, 1);\r\n\t\t\tthis.pixi.stage.alpha += 0.05 * this.pixi.ticker.deltaTime;\r\n\t\t}\r\n\r\n\t\t//FadeOut the content when the mouse gets out of the view before destroying the instance\r\n\t\tfadeOutCanvas()\r\n\t\t{\r\n\t\t\tif (this.pixi.stage.alpha === 0 && !this.pixi.bIsPendingDestroy) return;\r\n\t\t\tif (this.pixi.stage.alpha >= 0 && this.pixi.bIsPendingDestroy)\r\n\t\t\t{\r\n\t\t\t\tthis.pixi.stage.alpha = this.clamp(this.pixi.stage.alpha, 0, 1);\r\n\t\t\t\tthis.pixi.stage.alpha -= 0.08 * this.pixi.ticker.deltaTime;\r\n\t\t\t}\r\n\t\t\tif(this.pixi.stage.alpha <= 0 && this.pixi.bIsPendingDestroy) this.stop(this.mouseEventElement);\r\n\t\t}\r\n\r\n\t\t//Pulse the scale of the particle\r\n\t\tpulseParticle(particle, maxScale = 1.2, minScale = 0)\r\n\t\t{\r\n\t\t\tconst theScale = particle.scale.x;\r\n\t\t\t//Similar to fading\r\n\t\t\t// 1 = Zoom In 0 = Zoom Out\r\n\t\t\tparticle.zoom = (theScale >= maxScale && particle.zoom) ? 0 : (theScale <= minScale && !particle.zoom) ? 1 : particle.zoom;\r\n\r\n\t\t\t//zoom in\r\n\t\t\tif(particle.zoom) particle.scale.set(particle.scale.x + .003 * this.pixi.ticker.deltaTime);\r\n\t\t\t//zoom out\r\n\t\t\tif(!particle.zoom) particle.scale.set(particle.scale.x - .003 * this.pixi.ticker.deltaTime);\r\n\r\n\t\t\t//Clamp values to not allow negatives\r\n\t\t\tparticle.scale.x = this.clamp(particle.scale.x, minScale, maxScale);\r\n\t\t\tparticle.scale.y = this.clamp(particle.scale.y, minScale, maxScale);\r\n\t\t}\r\n\r\n\t\t//Fade In and out the particle, randomizing its position after it has been faded out\r\n\t\tfadeParticle(particle, maxOpacity = 0.6, newMinimumScale = .4, newMaximumScale = 1.2)\r\n\t\t{\r\n\t\t\t//Set particle fade state 1 = Fade In 0 = Fade Out\r\n\t\t\tparticle.fade = (particle.alpha >= maxOpacity && particle.fade) ? 0 : (particle.alpha <= 0 && !particle.fade) ? 1 : particle.fade;\r\n\r\n\t\t\t//Fade in\r\n\t\t\tif(particle.fade) particle.alpha += .003 * this.pixi.ticker.deltaTime;\r\n\r\n\t\t\t//Fade out\r\n\t\t\tif(!particle.fade) particle.alpha -= .003 * this.pixi.ticker.deltaTime;\r\n\r\n\t\t\t//Clamp values to not allow negatives\r\n\t\t\tparticle.alpha = this.clamp(particle.alpha, 0, maxOpacity);\r\n\r\n\t\t\t//Check if the particle has faded out, change its position\r\n\t\t\tif(!particle.fade && particle.alpha === 0)\r\n\t\t\t{\r\n\t\t\t\tparticle.x = Math.random() * this.pixi.screen.width;\r\n\t\t\t\tparticle.y = Math.random() * this.pixi.screen.height;\r\n\t\t\t\tparticle.scale.set((Math.random() * (newMaximumScale - newMinimumScale)) + newMinimumScale);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Position particles at the other end of the canvas whenever they hit the bounds of the canvas itself\r\n\t\t// We also avoid clipping by setting a boundary based on the canvas size\r\n\t\tthrowParticlesBackToTheCanvas(particle)\r\n\t\t{\r\n\t\t\tconst boundingBox =\r\n\t\t\t{\r\n\t\t\t\tx: this.element.getBoundingClientRect().width,\r\n\t\t\t\ty: this.element.getBoundingClientRect().height\r\n\t\t\t};\r\n\r\n\t\t\t//Prevent clipping by providing an invisible boundary area for particles\r\n\t\t\tconst bounds =\r\n\t\t\t{\r\n\t\t\t\txMin: () => this.settings.renderOutside? boundingBox.x * 0.1 : 0,\r\n\t\t\t\txMax: () => this.settings.renderOutside? this.width - (boundingBox.x * 0.1) : this.width,\r\n\t\t\t\tyMin: () => this.settings.renderOutside? boundingBox.y * 0.1 : 0,\r\n\t\t\t\tyMax: () => this.settings.renderOutside? this.height - (boundingBox.y * 0.1) : this.height,\r\n\t\t\t};\r\n\r\n\t\t\tif(particle.x > bounds.xMax() || particle.x < bounds.xMin() || particle.y > bounds.yMax() || particle.y < bounds.yMin())\r\n\t\t\t{\r\n\t\t\t\t//Resize Particles if they are out of bounds\r\n\t\t\t\tparticle.scale.set(this.clamp(Math.random() * this.settings.maxSize, this.settings.minSize, this.settings.maxSize));\r\n\t\t\t}\r\n\r\n\t\t\tif(particle.x > bounds.xMax()) particle.x = this.settings.renderOutside? bounds.xMin : 0;\r\n\t\t\tif(particle.x < bounds.xMin()) particle.x = this.settings.renderOutside? bounds.xMax : this.width;\r\n\r\n\t\t\t// if the particles have hit the vertical bounds, teleport them to a new X position with the y position inverted\r\n\t\t\tif(particle.y > bounds.yMax())\r\n\t\t\t{\r\n\t\t\t\tparticle.y = this.settings.renderOutside? bounds.yMin : 0;\r\n\t\t\t\tparticle.x = Math.floor(Math.random() * bounds.xMax);\r\n\t\t\t}\r\n\t\t\tif(particle.y < bounds.yMin())\r\n\t\t\t{\r\n\t\t\t\tparticle.y = this.settings.renderOutside? bounds.yMax : this.height;\r\n\t\t\t\tparticle.x = Math.floor(Math.random() * bounds.xMax);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//Update loop on delta\r\n\t\tupdate(bokehs, sparkles, stars)\r\n\t\t{\r\n\t\t\tsparkles.forEach((sparkle) =>\r\n\t\t\t{\r\n\t\t\t\tthis.throwParticlesBackToTheCanvas(sparkle);\r\n\t\t\t\tthis.fadeParticle(sparkle, 1, this.settings.minSize, this.settings.maxSize);\r\n\r\n\t\t\t\t// Randomly move stars along the direction, we weight x heavier than y,\r\n\t\t\t\t// allowing space for random decelleration, giving an ethereal floating feeling\r\n\t\t\t\tconst speed =\r\n\t\t\t\t{\r\n\t\t\t\t\tx: () =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst randBool = Math.random() > Math.random() * 2;\r\n\t\t\t\t\t\treturn randBool? this.settings.speed / 20 : 0;\r\n\t\t\t\t\t},\r\n\t\t\t\t\ty: () =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tconst randBool = Math.random() > Math.random() * 5;\r\n\t\t\t\t\t\treturn randBool? this.settings.speed / 10 : this.settings.speed / 15;\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\r\n\t\t\t\t//Perform the position update\r\n\t\t\t\tsparkle.x += speed.x() * sparkle.direction.x * this.pixi.ticker.deltaTime;\r\n\t\t\t\tsparkle.y += speed.y() * sparkle.direction.y * this.pixi.ticker.deltaTime;\r\n\t\t\t});\r\n\r\n\t\t\tbokehs.forEach((bokeh)=>\r\n\t\t\t{\r\n\t\t\t\tthis.throwParticlesBackToTheCanvas(bokeh);\r\n\t\t\t\tthis.fadeParticle(bokeh, 0.6, 0.4 * this.settings.bokehSize, 1.2 * this.settings.bokehSize);\r\n\r\n\t\t\t\t//Move the bokeh particle\r\n\t\t\t\t//The scale is going to be pumped on both the x and y axis at the same time, therefore we don't care of discrepancies between both axis to measure the current scale\r\n\t\t\t\tlet currScale = bokeh.scale.x;\r\n\t\t\t\tcurrScale += 0.001 * this.pixi.ticker.deltaTime;\r\n\t\t\t\tbokeh.y -= (Math.random() * 0.2) * this.pixi.ticker.deltaTime;\r\n\t\t\t\tbokeh.scale.set(currScale);\r\n\t\t\t});\r\n\r\n\t\t\tstars.forEach((star)=>\r\n\t\t\t{\r\n\t\t\t\tthis.throwParticlesBackToTheCanvas(star);\r\n\t\t\t\tthis.fadeParticle(star, 1, this.settings.minSize, this.settings.maxSize);\r\n\r\n\t\t\t\t//Perform the position update\r\n\t\t\t\tstar.x += (this.settings.speed / 50 * star.direction.x) * this.pixi.ticker.deltaTime;\r\n\t\t\t\tstar.y += (this.settings.speed / 30 * star.direction.y) * this.pixi.ticker.deltaTime;\r\n\t\t\t\tstar.rotation += star.direction.y * this.pixi.ticker.deltaTime * Math.PI * .01;\r\n\t\t\t\tthis.pulseParticle(star, this.settings.maxSize * 1.5, 0.1);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tif (typeof document !== \"undefined\")\r\n\t{\r\n\t\t/* expose the class to window and autoload */\r\n\t\twindow.FancyWebGLSparkles = FancyWebGLSparkles;\r\n\t\tFancyWebGLSparkles.init(document.querySelectorAll(\"[sparkle]\"));\r\n\t}\r\n\r\n\treturn FancyWebGLSparkles;\r\n})();\r\n\r\nexport default\r\n{\r\n\tFancyWebGLSparkles\r\n}\r\n"]},"metadata":{},"sourceType":"module"}